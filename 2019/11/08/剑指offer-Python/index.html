<!DOCTYPE html>



  


<html class="theme-next mist use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Python—剑指offer算法,">





  <link rel="alternate" href="/atom.xml" title="木木的博客" type="application/atom+xml">






<meta name="description" content="参考：所有动图来自牛客网（ https://www.nowcoder.com/discuss/198840?type=1 ） 3.1  数组中重复的数字长度为n的数组，所有数字都在0~n-1的范围内，找出数组中任意重复的数字。 三种方法：  首先将所有数字排序，然后从头到尾扫描排序后的数组。时间复杂度为$O(nlogn)$  利用哈希表，从头到尾扫描数组，每一个数字利用$O(1)$的时间检查数字是">
<meta name="keywords" content="Python—剑指offer算法">
<meta property="og:type" content="article">
<meta property="og:title" content="剑指offer-Python">
<meta property="og:url" content="http://pl741.github.io/2019/11/08/剑指offer-Python/index.html">
<meta property="og:site_name" content="木木的博客">
<meta property="og:description" content="参考：所有动图来自牛客网（ https://www.nowcoder.com/discuss/198840?type=1 ） 3.1  数组中重复的数字长度为n的数组，所有数字都在0~n-1的范围内，找出数组中任意重复的数字。 三种方法：  首先将所有数字排序，然后从头到尾扫描排序后的数组。时间复杂度为$O(nlogn)$  利用哈希表，从头到尾扫描数组，每一个数字利用$O(1)$的时间检查数字是">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://pl741.github.io/2019/11/08/剑指offer-Python/1.gif">
<meta property="og:image" content="http://pl741.github.io/2019/11/08/剑指offer-Python/2.gif">
<meta property="og:updated_time" content="2019-12-30T03:07:20.805Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="剑指offer-Python">
<meta name="twitter:description" content="参考：所有动图来自牛客网（ https://www.nowcoder.com/discuss/198840?type=1 ） 3.1  数组中重复的数字长度为n的数组，所有数字都在0~n-1的范围内，找出数组中任意重复的数字。 三种方法：  首先将所有数字排序，然后从头到尾扫描排序后的数组。时间复杂度为$O(nlogn)$  利用哈希表，从头到尾扫描数组，每一个数字利用$O(1)$的时间检查数字是">
<meta name="twitter:image" content="http://pl741.github.io/2019/11/08/剑指offer-Python/1.gif">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Mist',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: 'D7ALJV5SO6',
      apiKey: '6e20ed4f9126e4bd7125665a8b2f2a43',
      indexName: 'MUMU',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"找不到关于 ${query} 的文章","hits_stats":"共找到 ${hits} 篇文章，花了 ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://pl741.github.io/2019/11/08/剑指offer-Python/">





  <title>剑指offer-Python | 木木的博客</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">木木的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">木木的博客</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            归档
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          <!--增加的代码 start-->

          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  
  <div class="algolia-popup popup search-popup">
    <div class="algolia-search">
      <div class="algolia-search-input-icon">
        <i class="fa fa-search"></i>
      </div>
      <div class="algolia-search-input" id="algolia-search-input"></div>
    </div>

    <div class="algolia-results">
      <div id="algolia-stats"></div>
      <div id="algolia-hits"></div>
      <div id="algolia-pagination" class="algolia-pagination"></div>
    </div>

    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
  </div>




    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://pl741.github.io/2019/11/08/剑指offer-Python/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="木木">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/header.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="木木的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">剑指offer-Python</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2019-11-08T11:51:07+08:00">
                2019-11-08
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index">
                    <span itemprop="name">Python</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>参考：所有动图来自牛客网（ <a href="https://www.nowcoder.com/discuss/198840?type=1" target="_blank" rel="noopener">https://www.nowcoder.com/discuss/198840?type=1</a> ）</p>
<h5 id="3-1-数组中重复的数字"><a href="#3-1-数组中重复的数字" class="headerlink" title="3.1  数组中重复的数字"></a>3.1  数组中重复的数字</h5><p>长度为n的数组，所有数字都在0~n-1的范围内，找出数组中任意重复的数字。</p>
<p>三种方法：</p>
<ol>
<li><p>首先将所有数字排序，然后从头到尾扫描排序后的数组。时间复杂度为$O(nlogn)$</p>
</li>
<li><p>利用哈希表，从头到尾扫描数组，每一个数字利用$O(1)$的时间检查数字是否在哈希表中，如果没有则加入，如果存在表明此数字重复。时间复杂度$O(n)$，空间复杂度$O(n)$。</p>
</li>
<li><p>利用从0~n-1个共n个数字这一特点，若无重复数字，排序后数字 $i$ 在数组下标 $i$ 的位置上。从头开始扫描数组$arr$，记扫描到下标为 $i$ 的数字$arr[i]$为 $m$，比较 $i==m $，若相等，$i+1$，若不等则比较$arr[m]$和$m$， 若相等，找到重复数字，若不等则交换数组 $i, m$位置上的数。每个数字最多交换两次就能找到属于自己的位置。时间复杂度$O(n)$， 空间复杂度$O(1)$。</p>
<img src="/2019/11/08/剑指offer-Python/1.gif">
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">duplicate</span><span class="params">(self, numbers, duplication)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> numbers == <span class="literal">None</span> <span class="keyword">or</span> len(numbers) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(numbers)):</span><br><span class="line">            <span class="keyword">if</span> numbers[i] &lt; <span class="number">0</span> <span class="keyword">or</span> numbers[i] &gt; len(numbers) - <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(numbers)):</span><br><span class="line">            <span class="keyword">while</span> numbers[i] != i:</span><br><span class="line">                <span class="keyword">if</span> numbers[i] == numbers[numbers[i]]:</span><br><span class="line">                    duplication[<span class="number">0</span>] = numbers[i]</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    temp = numbers[i]</span><br><span class="line">                    numbers[i] = numbers[temp]</span><br><span class="line">                    numbers[temp] = temp</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h5 id="3-2-不修改数组找出重复的数字"><a href="#3-2-不修改数组找出重复的数字" class="headerlink" title="3.2 不修改数组找出重复的数字"></a>3.2 不修改数组找出重复的数字</h5><p>长度为$n+1$的数组，所有数字都在1~n的范围内，不修改数组找出数组中任意重复的数字。</p>
<p>两种解决方法：</p>
<ol>
<li>利用一个辅助数组，从头扫描原数组，将数字 $i$ 放入新数组下标为 $i$ 的位置。时间复杂度$O(n)$，空间复杂度$O(n)$。</li>
<li>二分查找变形：1~n范围内只有n个数字，一定含有重复数字，某范围内数字的个数是解决问题的关键。首先把1~n的数字从中间数字分开前半部分1~m，后半部分m+1~n， 查看1~m范围上数字的个数，若大于m，有重复，再将1~m范围的数字二分，否则检查m+1~n范围的数字个数。时间复杂度$O(nlogn)$, 空间复杂度$O(1)$。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">duplicate</span><span class="params">(self, numbers)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> numbers == <span class="literal">None</span> <span class="keyword">or</span> len(numbers) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        start = <span class="number">1</span></span><br><span class="line">        end = len(numbers)<span class="number">-1</span></span><br><span class="line">        <span class="keyword">while</span> end &gt;= start:</span><br><span class="line">            middle = (end-start) // <span class="number">1</span> + start</span><br><span class="line">            count = self.countRange(numbers, start, middle)</span><br><span class="line">            <span class="keyword">if</span> end == start:</span><br><span class="line">                <span class="keyword">if</span> count &gt; <span class="number">1</span>: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">                <span class="keyword">else</span>: <span class="keyword">break</span></span><br><span class="line">            <span class="keyword">if</span> count &gt; middle - start + <span class="number">1</span>:</span><br><span class="line">                end = middle</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                start = middle + <span class="number">1</span></span><br><span class="line">         <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countRange</span><span class="params">(numbers, start, end)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> numbers == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(numbers)):</span><br><span class="line">            <span class="keyword">if</span> start&lt;= numbers[i] <span class="keyword">and</span> numbers[i] &lt;= end:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>
<h5 id="4-二维数组中的查找"><a href="#4-二维数组中的查找" class="headerlink" title="4. 二维数组中的查找"></a>4. 二维数组中的查找</h5><p>一个二维数组其每一行从左到右递增排序，从上到下也是递增排序。给定一个数，判断这个数是否在二维数组中。 </p>
<ol>
<li><p>从右上角开始或者从左下角开始。从右上角开始，若大于要找的数，去掉一列，若小于要找的数，去掉一行。</p>
<img src="/2019/11/08/剑指offer-Python/2.gif">
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Find</span><span class="params">(self, target, array)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> array == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        m = len(array)</span><br><span class="line">        n = len(array[<span class="number">0</span>])</span><br><span class="line">        row = <span class="number">0</span>  <span class="comment"># 注意m和row的取值，row的取值为0-m-1</span></span><br><span class="line">        col = n - <span class="number">1</span> </span><br><span class="line">        <span class="keyword">while</span> row &lt; m <span class="keyword">and</span> col &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">if</span> target &gt; array[row][col]:</span><br><span class="line">                row += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> target &lt; array[row][col]:</span><br><span class="line">                col -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="5-替换空格"><a href="#5-替换空格" class="headerlink" title="5. 替换空格"></a>5. 替换空格</h5><p>把字符串中的每个空格替换成“%20”</p>
<p>两种解决方法：</p>
<ol>
<li><p>创建一个新的字符串，在新的字符串上做替换，需要足够的内存</p>
</li>
<li><p>在原字符串上替换，可能会覆盖修改在该字符串后面的内存，准备两个指针<font color="red">从后向前</font>替换，  $P1$ 指向字符串原来的末尾位置，$P2$ 指向字符串替换后的末尾位置 ，将$P1 $和$P2$从后向前遍历，当 $P1$遇到空格时，  $P1$向前移动一格，  $P2$写入%20（注意逆序写入02%）  否则就在$P2$位置填充$P1$内容，当$P1$与$P2$相等，所有空格替换完成。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">replaceSpace</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> s == null:</span><br><span class="line">            <span class="keyword">return</span> </span><br><span class="line">        s = list(s)</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> i == <span class="string">' '</span>: count += <span class="number">1</span></span><br><span class="line">        p1 = len(s) - <span class="number">1</span></span><br><span class="line">        s += [<span class="literal">None</span>] * count * <span class="number">2</span></span><br><span class="line">        p2 = len(s) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> p1 &gt;= <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">if</span> s[p1] == <span class="string">' '</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> [<span class="string">'0'</span>, <span class="string">'2'</span>, <span class="string">'%'</span>]:</span><br><span class="line">                    s[p2] = i</span><br><span class="line">                    p2 -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                s[p2] = s[p1]</span><br><span class="line">                p2 -= <span class="number">1</span></span><br><span class="line">            p1 -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(s)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="6-从尾到头打印链表"><a href="#6-从尾到头打印链表" class="headerlink" title="6. 从尾到头打印链表"></a>6. 从尾到头打印链表</h5><ol>
<li>允许修改链表结构：改变链表的方向，</li>
<li>不允许修改链表结构：后进先出——栈结构<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回从尾部到头部的列表值序列，例如[1,2,3]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printListFromTailToHead</span><span class="params">(self, listNode)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> listNode:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        result = []</span><br><span class="line">        <span class="keyword">while</span> listNode:</span><br><span class="line">            result.append(listNode.val)</span><br><span class="line">            listNode = listNode.next</span><br><span class="line">        <span class="keyword">return</span> result[::<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="7-重建二叉树"><a href="#7-重建二叉树" class="headerlink" title="7. 重建二叉树"></a>7. 重建二叉树</h5><p>输入某二叉树的前序遍历和中序遍历（输入的前序遍历和中序遍历的结果中不含重复数字），重建该二叉树并输出头节点。</p>
<ol>
<li>前序遍历中，第一个数字是二叉树的头节点，此数字在中序遍历中处于中间位置，且位于左边的是左树上的节点。<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回构造的TreeNode根节点</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reConstructBinaryTree</span><span class="params">(self, pre, tin)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pre <span class="keyword">or</span> <span class="keyword">not</span> tin:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        root = TreeNode(pre[<span class="number">0</span>])</span><br><span class="line">        val = tin.index(pre[<span class="number">0</span>])</span><br><span class="line">        root.left = self.reConstructBinaryTree(pre[<span class="number">1</span>:val+<span class="number">1</span>], tin[<span class="number">0</span>:val])</span><br><span class="line">        root.right = self.reConstructBinaryTree(pre[val+<span class="number">1</span>:], tin[val+<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="8-二叉树的下一个节点"><a href="#8-二叉树的下一个节点" class="headerlink" title="8.  二叉树的下一个节点"></a>8.  二叉树的下一个节点</h5><p>给定一棵二叉树和其中一个节点，获取中序遍历的下一个节点。（树节点的结构中含有指向父节点的指针）</p>
<ol>
<li>节点有右子树：节点的下一个节点为右子树的最左节点。</li>
<li>节点无右子树且此节点为其父节点的左子节点：其父节点即为下一个节点；</li>
<li>节点无右子树且此节点为其父节点的右子节点：向上追溯，直到找到一个节点为其父节点的左子节点，父节点即为下一个节点。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeLinkNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">GetNext</span><span class="params">(self, pNode)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> pNode:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        rightTree = pNode.right</span><br><span class="line">        <span class="keyword">if</span> rightTree != <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">while</span> rightTree.left != <span class="literal">None</span>:</span><br><span class="line">                rightTree = rightTree.left</span><br><span class="line">            <span class="keyword">return</span> rightTree</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> pNode.next != <span class="literal">None</span> <span class="keyword">and</span> pNode.next.left != pNode:</span><br><span class="line">                pNode = pNode.next</span><br><span class="line">            <span class="keyword">return</span> pNode.next</span><br></pre></td></tr></table></figure>
<h5 id="9-1-用两个栈实现队列"><a href="#9-1-用两个栈实现队列" class="headerlink" title="9.1 用两个栈实现队列"></a>9.1 用两个栈实现队列</h5><p>实现 appendTail 和 deleteHead 分别完成在队列尾部插入结点和在队列头部删除节点。</p>
<ol>
<li>头部删除一个节点：若stack2为空，将stack1中所有元素依次弹出存入stack2中，并将stack2栈顶弹出；若stack2不为空，直接弹出stack2的栈顶。</li>
<li>尾部插入一个节点：压入stack1即可。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.stack1 = []</span><br><span class="line">        self.stack2 = []</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        self.stack1.append(node)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># return xx</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.stack2:</span><br><span class="line">            <span class="keyword">while</span> self.stack1:</span><br><span class="line">                self.stack2.append(self.stack1.pop())</span><br><span class="line">            <span class="keyword">return</span> self.stack2.pop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.stack2.pop()</span><br></pre></td></tr></table></figure>
<h5 id="9-2-用两个队列实现一个栈"><a href="#9-2-用两个队列实现一个栈" class="headerlink" title="9.2 用两个队列实现一个栈"></a>9.2 用两个队列实现一个栈</h5><p>实现栈的压入和弹出</p>
<ol>
<li>栈的弹出：找出两个队列中不为空的，保留最后一个元素，前面所有元素放入另一个为空的队列中，并将最后一个元素弹出。</li>
<li>栈的压入：当两个队列都为空时，插入其中一个队列，若有一个队列不为空，插入队尾。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.queue1 = []</span><br><span class="line">        self.queue2 = []</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> self.queue1:</span><br><span class="line">            self.queue.append(node)</span><br><span class="line">        <span class="keyword">elif</span> self.queue2:</span><br><span class="line">            self.queue2.append(node)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.queue1.append(nodde)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># return xx</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.queue1 <span class="keyword">and</span> <span class="keyword">not</span> self.queue2:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> self.queue1:</span><br><span class="line">            <span class="keyword">while</span> len(self.queue1) != <span class="number">1</span>:</span><br><span class="line">                self.queue2.append(self.queue1.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">return</span> self.queue1.pop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> len(self.queue2) != <span class="number">1</span>:</span><br><span class="line">                self.queue1.append(elf.queue2.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">return</span> self.queue2.pop()</span><br></pre></td></tr></table></figure>
<h5 id="10-1-斐波那契数列"><a href="#10-1-斐波那契数列" class="headerlink" title="10.1 斐波那契数列"></a>10.1 斐波那契数列</h5><p>求斐波那契数列的第n项。</p>
<script type="math/tex; mode=display">
f(n)=\left\{\begin{array}{rl}{0} & {n=0} \\ {1} & {n=1} \\ {f(n-1)+f(n-2)} & {n>1}\end{array}\right.</script><ol>
<li><p>递归方法：但有严重的效率问题，原因是会重复计算很多节点，造成其时间复杂度以 n 的指数的方式递增。</p>
</li>
<li><p>for循环：避免重复计算，将已经计算过的数列中间项保存起来。从下往上计算，时间复杂度$O(n)$。</p>
</li>
<li><p>利用两个数学公式，时间复杂度为$O(\log n)$，但不实用，且隐含的时间常数较大。</p>
<script type="math/tex; mode=display">
\left[\begin{array}{l}{f(n)} & {f(n-1)} \\ {f(n-1)} & {f(n-2)}\end{array}\right]=\left[\begin{array}{ll}{1} & {1} \\ {1} & {0}\end{array}\right]^{n-1}</script><script type="math/tex; mode=display">
a^{n}=\left\{\begin{array}{ll}{a^{n / 2} \cdot a^{n / 2}} & {n为偶数} \\ {a^{(n-1) / 2} \cdot a^{(n-1) / 2} \cdot a} & {n为奇数}\end{array}\right.</script><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Fibonacci</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        a = <span class="number">0</span></span><br><span class="line">        b = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> a</span><br><span class="line">        <span class="keyword">elif</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> b</span><br><span class="line">        <span class="keyword">elif</span> n &lt;=<span class="number">39</span>:</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(n<span class="number">-1</span>):</span><br><span class="line">                result = a + b</span><br><span class="line">                a = b</span><br><span class="line">                b = result</span><br><span class="line">            <span class="keyword">return</span> result</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="10-2-青蛙跳台阶问题"><a href="#10-2-青蛙跳台阶问题" class="headerlink" title="10.2 青蛙跳台阶问题"></a>10.2 青蛙跳台阶问题</h5><p> 一只青蛙一次可以跳上1级台阶，也可以跳上2级。该青蛙跳上一个 n 级的台阶共有多少种跳法（先后次序不同算不同的结果）。 </p>
<p>​    $n=1$时只有一种跳法；$n=2$时，两种跳法（每次跳一个台阶 / 一次跳两个台阶）；$n&gt;2$时，第一跳有两种不同的选择，跳一个台阶（剩下$n-1$个台阶）或跳两个台阶（剩下$n-2$个台阶）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">jumpFloor</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> number</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">            <span class="keyword">while</span> len(res) &lt; number:</span><br><span class="line">                res.append(res[<span class="number">-1</span>] + res[<span class="number">-2</span>])</span><br><span class="line">            <span class="keyword">return</span> res[number<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<h5 id="10-3-变态跳台阶"><a href="#10-3-变态跳台阶" class="headerlink" title="10.3 变态跳台阶"></a>10.3 变态跳台阶</h5><p> 一只青蛙一次可以跳上1级台阶，也可以跳上2级…也可以跳上n级。该青蛙跳上一个 n 级的台阶总共有多少种跳法。 </p>
<p>​    $n= 1$，则剩下跳法是f(n-1)；$n=2$级，则剩下跳法是f(n-2)；所以$f(n)=f(n-1)+f(n-2)+…+f(1)$<br>​    因为$f(n-1)=f(n-2)+f(n-3)+…+f(1)$，所以$f(n)=2*f(n-1)$，则$f(n)=2^{n-1}$种跳法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">jumpFloorII</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> number</span><br><span class="line">        res = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> number<span class="number">-1</span> &gt; <span class="number">0</span>:</span><br><span class="line">            res = res * <span class="number">2</span></span><br><span class="line">            number = number <span class="number">-1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h5 id="10-4-矩形覆盖"><a href="#10-4-矩形覆盖" class="headerlink" title="10.4 矩形覆盖"></a>10.4 矩形覆盖</h5><p>可以用$2<em>1$的小矩形横着或者竖着去覆盖更大的矩形。请问用n个$2</em>1$的小矩形无重叠地覆盖一个$2*n$的大矩形，总共有多少种方法？ </p>
<ol>
<li>若横着放，则剩下的部分为$n-1$</li>
<li>若竖着放，则剩下的部分为$n-2$</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">rectCover</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt; <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> number</span><br><span class="line">        res_1 = <span class="number">1</span></span><br><span class="line">        res_2 = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> number - <span class="number">1</span> &gt; <span class="number">0</span>:</span><br><span class="line">            res = res_1 + res_2</span><br><span class="line">            res_1 = res_2</span><br><span class="line">            res_2 = res</span><br><span class="line">            number = number - <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h5 id="11-旋转数组的最小数字"><a href="#11-旋转数组的最小数字" class="headerlink" title="11.  旋转数组的最小数字"></a>11.  旋转数组的最小数字</h5><p> 输入一个非递减排序的数组的一个旋转，输出旋转数组的最小元素。 ( 把一个数组最开始的若干个元素搬到数组的末尾，我们称之为数组的旋转。)</p>
<ol>
<li><p>遍历数组：时间复杂度$O(N)$</p>
</li>
<li><p>二分法：旋转后的数组划分为两个排序的子数组，且前面子数组元素都大于或者等于后面子数组的元素，最小元素为分界线。</p>
<p>步骤：</p>
<ol>
<li><p>使用两个指针分别指向数组的开始$P_{1}$和结尾$P_{2}$，</p>
</li>
<li><p>若第一个数字小于最后一个数字：说明第一个数即为最小元素。</p>
</li>
<li>若第一个数大于或等于最后一个数：找到$P_{1}$和$P_{2}$中间位置的数，若此数大于$P_{1}$所指的数，则$P_{1}=\frac {P_{1}+P_{2}}{2}$，若此数小于或等于$P_{2}$所指的数，则$P_{2}=\frac {P_{1}+P_{2}}{2}$，如此循环直到$P_{1}$和$P_{2}$相邻时，$P_{2}$所指的数字即为最小元素。</li>
</ol>
<p>特殊情况：</p>
<p>若$P_{1}$位置上的数等于$P_{2}$位置上的数且等于它们中间的数字时：需采用顺序查找的方法进行查找</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumberInRotateArray</span><span class="params">(self, rotateArray)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> rotateArray:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        p1 = <span class="number">0</span></span><br><span class="line">        p2 = len(rotateArray)<span class="number">-1</span></span><br><span class="line">        mid = p1</span><br><span class="line">        <span class="keyword">while</span> rotateArray[p1] &gt;= rotateArray[p2]:</span><br><span class="line">            <span class="keyword">if</span> p2 - p1 == <span class="number">1</span>:</span><br><span class="line">                mid = p2</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            mid = (p1+p2)/<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> rotateArray[p1] == rotateArray[mid] <span class="keyword">and</span> rotateArray[p2] == rotateArray[mid]:</span><br><span class="line">                <span class="keyword">return</span> self.minValue(rotateArray, p1, p2)</span><br><span class="line">            <span class="keyword">if</span> rotateArray[mid] &gt;= rotateArray[p1]:</span><br><span class="line">                p1 = mid</span><br><span class="line">            <span class="keyword">elif</span> rotateArray[mid] &lt;= rotateArray[p2]:</span><br><span class="line">                p2 = mid</span><br><span class="line">        <span class="keyword">return</span> rotateArray[mid]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minValue</span><span class="params">(self, rotateArray, p1, p2)</span>:</span></span><br><span class="line">        res = rotateArray[p1]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(p1+<span class="number">1</span>, p2+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> rotateArray[i] &lt; res:</span><br><span class="line">                res = rotateArray[i]</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h5 id="12-矩阵中的路径"><a href="#12-矩阵中的路径" class="headerlink" title="12. 矩阵中的路径"></a>12. 矩阵中的路径</h5><p>判断在一个矩阵中是否存在一条包含某字符串所有字符的路径。<br>路径可以从矩阵中的任意一个格子开始，每一步可以在矩阵中向左，向右，向上，向下移动一个格子。如果一条路径经过了矩阵中的某一个格子，则该路径不能再进入该格子。 </p>
<ol>
<li><p>回溯法：回溯法算法适合使用递归实现</p>
<p>路径不能重复进入矩阵的格子，需要定义和字符矩阵大小一样的布尔值矩阵，标识路径是否已经进入了每个格子。</p>
<font color="red">通常在二维矩阵上找路径的问题都可以应用回溯法解决。</font>

</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasPath</span><span class="params">(self, matrix, rows, cols, path)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> matrix <span class="keyword">and</span> rows &lt; <span class="number">1</span> <span class="keyword">and</span> cols &lt; <span class="number">1</span> <span class="keyword">and</span> path==<span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        visited = [<span class="number">0</span>] * (rows * cols)</span><br><span class="line">        pathLength = <span class="number">0</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> row <span class="keyword">in</span> range(rows):</span><br><span class="line">            <span class="keyword">for</span> col <span class="keyword">in</span> range(cols):</span><br><span class="line">                <span class="keyword">if</span> self.hasPathCore(matrix, rows, cols, row, col, path, pathLength, visited):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasPathCore</span><span class="params">(self, matrix, rows, cols, row, col, path, pathLength, visited)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> len(path) == pathLength:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        hasPath = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> row &gt;= <span class="number">0</span> <span class="keyword">and</span> row &lt; rows <span class="keyword">and</span> col &gt;= <span class="number">0</span> <span class="keyword">and</span> col &lt; cols <span class="keyword">and</span> matrix[row*cols+col]== path[pathLength] <span class="keyword">and</span> <span class="keyword">not</span> visited[row*cols+col]:</span><br><span class="line">            pathLength += <span class="number">1</span></span><br><span class="line">            visited[row*cols+col] = <span class="number">1</span></span><br><span class="line">            hasPath = self.hasPathCore(matrix, rows, cols, row<span class="number">-1</span>, col, path, pathLength, visited) \</span><br><span class="line">                    <span class="keyword">or</span> self.hasPathCore(matrix, rows, cols, row+<span class="number">1</span>, col, path, pathLength, visited) \</span><br><span class="line">                    <span class="keyword">or</span> self.hasPathCore(matrix, rows, cols, row, col<span class="number">-1</span>, path, pathLength, visited) \</span><br><span class="line">                    <span class="keyword">or</span> self.hasPathCore(matrix, rows, cols, row, col+<span class="number">1</span>, path, pathLength, visited)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> hasPath:</span><br><span class="line">                pathLength -= <span class="number">1</span></span><br><span class="line">                visited[row*cols+col] = <span class="number">0</span></span><br><span class="line">        <span class="keyword">return</span> hasPath</span><br></pre></td></tr></table></figure>
<h5 id="13-机器人的运动范围"><a href="#13-机器人的运动范围" class="headerlink" title="13. 机器人的运动范围"></a>13. 机器人的运动范围</h5><p>地上有一个 m 行和 n 列的方格。一个机器人从坐标$(0,0)$的格子开始移动，每一次只能向左，右，上，下四个方向移动一格，但是不能进入行坐标和列坐标的数位之和大于 k 的格子。<br>请问该机器人能够达到多少个格子？ （回溯法）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movingCount</span><span class="params">(self, threshold, rows, cols)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> threshold &lt; <span class="number">0</span> <span class="keyword">and</span> rows &lt; <span class="number">1</span> <span class="keyword">and</span> cols &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        visited = [<span class="number">0</span>] * (rows * cols)</span><br><span class="line">        count = self.movingCountCore(threshold, rows, cols, <span class="number">0</span>, <span class="number">0</span>, visited)</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movingCountCore</span><span class="params">(self, threshold, rows, cols, row, col, visited)</span>:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> self.check(threshold, rows, cols, row, col, visited):</span><br><span class="line">            visited[row*cols + col] = <span class="number">1</span></span><br><span class="line">            count = <span class="number">1</span> + self.movingCountCore(threshold, rows, cols, row+<span class="number">1</span>, col, visited)\</span><br><span class="line">                    + self.movingCountCore(threshold, rows, cols, row<span class="number">-1</span>, col, visited)\</span><br><span class="line">                    + self.movingCountCore(threshold, rows, cols, row, col<span class="number">-1</span>, visited)\</span><br><span class="line">                    + self.movingCountCore(threshold, rows, cols, row, col+<span class="number">1</span>, visited)</span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">check</span><span class="params">(self, threshold, rows, cols, row, col, visited)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> row &gt;= <span class="number">0</span> <span class="keyword">and</span> row &lt; rows <span class="keyword">and</span> col &gt;= <span class="number">0</span> <span class="keyword">and</span> col &lt; cols <span class="keyword">and</span> <span class="keyword">not</span> visited[row * cols + col] <span class="keyword">and</span> self.getDigitSum(row) + self.getDigitSum(col) &lt;= threshold:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getDigitSum</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        sum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> number &gt; <span class="number">0</span>:</span><br><span class="line">            sum += number % <span class="number">10</span></span><br><span class="line">            number /= <span class="number">10</span></span><br><span class="line">        <span class="keyword">return</span> sum</span><br></pre></td></tr></table></figure>
<h5 id="14-剪绳子"><a href="#14-剪绳子" class="headerlink" title="14. 剪绳子"></a>14. 剪绳子</h5><p>给你一根长度为 n 的绳子，请把绳子剪成整数长的 m 段（m、n都是整数，$n&gt;1$并且$m&gt;1$），每段绳子的长度记为$k[0],k[1],…,k[m]$。请问$k[0]<em>k[1]</em>…*k[m]$可能的最大乘积是多少？ </p>
<ol>
<li><p>动态规划：时间复杂度$O(n^{2})$，空间复杂度$O(n)$</p>
<p>可以应用动态规划求解的问题的三个特点：</p>
<ol>
<li>求一个问题的最优解</li>
<li>整体问题的最优解依赖各个子问题的最优解</li>
<li>大问题可分解为若干小问题，小问题之间还有相互重叠的更小的子问题</li>
</ol>
<font color="red">从上往下分析问题，从下往上求解问题。</font>

<p>定义$f(n)=max(f(i)*f(n-i))其中0&lt;i&lt;n$，当$n=0, 1, 2, 3$时$f(n)&lt;n$为特例，需单独处理。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cutRope</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> number == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> number == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        res = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">4</span>, number+<span class="number">1</span>):</span><br><span class="line">            res_max = <span class="number">0</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, int(i/<span class="number">2</span>)+<span class="number">1</span>):</span><br><span class="line">                product = res[j] * res[i-j]</span><br><span class="line">                <span class="keyword">if</span> product &gt; res_max:</span><br><span class="line">                    res_max = product</span><br><span class="line">            res.append(res_max)</span><br><span class="line">        <span class="keyword">return</span> res[number]</span><br></pre></td></tr></table></figure>
</li>
<li><p>贪婪算法：时间复杂度$O(1)$，空间复杂度$O(1)$</p>
<p>每一步做出一个贪婪选择，基于这个选择，确定能够得到最优解。</p>
<p>策略：当$n\ge 5$时，尽可能多地剪长度为3地绳子，当剩下地绳子的长度为4时，将绳子剪成长度为2的绳子。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cutRope</span><span class="params">(self, number)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> number &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="keyword">elif</span> number == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> number == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">        num_3 = int(number / <span class="number">3</span>)</span><br><span class="line">        <span class="keyword">if</span> number - num_3 * <span class="number">3</span> == <span class="number">1</span>:</span><br><span class="line">            num_3 -= <span class="number">1</span></span><br><span class="line">        num_2 = (number - num_3 * <span class="number">3</span>) / <span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="number">3</span> ** num_3) * (<span class="number">2</span> ** num_2)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="15-二进制中-1-的个数"><a href="#15-二进制中-1-的个数" class="headerlink" title="15. 二进制中 1 的个数"></a>15. 二进制中 1 的个数</h5><p>输入一个整数，输出该数二进制表示中1的个数。其中负数用补码表示。 </p>
<ol>
<li><p>右移法：判断整数二进制表示中最右边一位是否为 1（和 1 做“与运算”，输出为 1 表示最右位为 1），，之后整数右移，继续判断。注意：不能利用除 2 代替位运算（效率低）且当整数为负数时会出现死循环。</p>
</li>
<li><p>避免死循环：不右移输入数字，每次左移 1 ，依次循环，循环的次数等于整数二进制的位数。</p>
</li>
<li><p>把一个整数减去1，再和原整数做“与运算”，会把该整数最右边的1变成0。那么一个整数的二进制中表示中有多少个1，就可以进行多少次这样的操作。 </p>
<font color="red">把一个整数减去 1 之后再和原来的整数做“位与”运算，得到的结果相当于把整数的二进制表示中最右边的 1 变成 0。</font>

</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">NumberOf1</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span> :</span><br><span class="line">            n = n &amp; <span class="number">0xffffffff</span>  <span class="comment"># 负数采用补码的形式</span></span><br><span class="line">        <span class="keyword">while</span> n:</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            n = (n - <span class="number">1</span>) &amp; n</span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>
<p>相关题目：</p>
<ol>
<li>判别一个整数是不是 2 的整数次方：如果是，则它的二进制表示中有且仅有一位为 1，其他所有位为 0。</li>
<li>修改 m 的二进制表示中的多少位能得到 n：先将两个数异或，统计异或结果中 1 的个数（位数）。</li>
</ol>
<h5 id="16-数值的整数次方"><a href="#16-数值的整数次方" class="headerlink" title="16. 数值的整数次方"></a>16. 数值的整数次方</h5><p>考虑代码的完整性：</p>
<ol>
<li><p>输入的指数小于 1 时（零或负数）：当指数为负数时，可先对指数求绝对值，计算出次方结果后取倒数。当底数为 0 且指数为负数时，出现对 0 求倒数，需处理异常出错情况。</p>
</li>
<li><p>0 的 0 次方没有数学意义，输出为 0 或 1 均可。</p>
</li>
<li><p>利用公式实现时间复杂度为 $O(\log n)$ ：<br>$$</p>
</li>
</ol>
<p>$$</p>
<ol>
<li><p>其他细节问题：右移运算——&gt; 除2，位与运算——&gt; 求余 </p>
<font color="red">判断 num 为奇数还是偶数：【num & 0x1 】为 1 表明为奇数，即二进制的最低位为1。</font>

</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.g_InvalidInput = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Power</span><span class="params">(self, base, exponent)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> base == <span class="number">0.0</span> <span class="keyword">and</span> exponent &lt; <span class="number">0</span>:</span><br><span class="line">            self.g_InvalidInput = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">return</span> <span class="number">0.0</span></span><br><span class="line">        <span class="keyword">if</span> exponent &gt;= <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> self.PowerWithUnsignedExponent(base, exponent)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1.0</span> / self.PowerWithUnsignedExponent(base, -exponent)</span><br><span class="line">     </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PowerWithUnsignedExponent</span><span class="params">(self, base, exponent)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> exponent == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> exponent == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> base</span><br><span class="line">        res = self.PowerWithUnsignedExponent(base, exponent&gt;&gt;<span class="number">1</span>)</span><br><span class="line">        res *= res</span><br><span class="line">        <span class="keyword">if</span> exponent &amp; <span class="number">0x1</span>:</span><br><span class="line">            res *= base</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h5 id="17-打印从-1-到最大的-n-位数"><a href="#17-打印从-1-到最大的-n-位数" class="headerlink" title="17. 打印从 1 到最大的 n 位数"></a>17. 打印从 1 到最大的 n 位数</h5><p>输入数字 n，按顺序打印出从 1 到最大的 n 位十进制数。 </p>
<ol>
<li><p>n 的范围：当 n 很大时，最大 n 位数为整型或长整型是否都会溢出？</p>
<p>解决办法：需要表达一个大数，可使用字符串或者数组</p>
<ol>
<li>字符串表示大数：字符串中每个字符都是‘0’~‘9’之间的某个字符，表示数字中的一位。数字最大是 n 位的，需要一个长度为 n的字符串，实际数字不够 n 位时，字符串前半部分补0。需完成两件事情：a. 在字符串表达的数字上模拟加法；（只有在达到最大的 n 位十进制数时 +1 操作会在第一个字符上出现进位）b. 打印字符串表达的数字，补位 0 不应该打印出来。</li>
<li>数字全排列：把数字的每一位都从 0 到 9 排序一遍。</li>
</ol>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintToMaxOfNDigits</span><span class="params">(self, n)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        number = [<span class="string">'0'</span>] * n</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">            number[<span class="number">0</span>] = str(i) </span><br><span class="line">            self.PrintToMaxOfNDigitsRecursively(number, n, <span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintToMaxOfNDigitsRecursively</span><span class="params">(self, number, length, index)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> index == length - <span class="number">1</span>:</span><br><span class="line">            self.PrintNumber(number, length)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">10</span>):</span><br><span class="line">            number[index+<span class="number">1</span>] = str(i)</span><br><span class="line">            self.PrintToMaxOfNDigitsRecursively(number, length, index+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintNumber</span><span class="params">(self, number, length)</span>:</span></span><br><span class="line">        <span class="comment"># print(number)</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(length):</span><br><span class="line">            <span class="keyword">if</span> number[i] != <span class="string">'0'</span>:</span><br><span class="line">                print(<span class="string">''</span>.join(number[i:]))</span><br><span class="line">                <span class="keyword">return</span></span><br></pre></td></tr></table></figure>
<p>补充：实现在字符串表示的数字上加 1 ，并在越界是返回</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">Increment</span><span class="params">(number)</span>:</span></span><br><span class="line">    isOverflow = <span class="literal">False</span></span><br><span class="line">    nTakeOver = <span class="number">0</span></span><br><span class="line">    nLength = len(number)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(nLength<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">        nSum = int(number[i]) - int(<span class="string">'0'</span>) + nTakeOver</span><br><span class="line">        <span class="keyword">if</span> i == nLength - <span class="number">1</span>:  <span class="comment"># 个位+1</span></span><br><span class="line">            nSum += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nSum &gt;= <span class="number">10</span>:</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                isOverflow = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                nSum -= <span class="number">10</span></span><br><span class="line">                nTakeOver = <span class="number">1</span></span><br><span class="line">                number[i] = str(int(<span class="string">'0'</span>) + nSum)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            number[i] = str(int(<span class="string">'0'</span>) + nSum)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> isOverflow</span><br></pre></td></tr></table></figure>
<h5 id="18-1-删除链表的节点"><a href="#18-1-删除链表的节点" class="headerlink" title="18.1 删除链表的节点"></a>18.1 删除链表的节点</h5><p>给定单向链表的头指针和一个节点指针，在$O(1)$时间内删除该节点。</p>
<ol>
<li><p>从链表的头节点开始，顺序遍历查找要删除的节点，并删除。时间复杂度$O(n)$。</p>
</li>
<li><p>找到要删除节点的下一个节点，并用下一个节点的内容复制到要删除节点上，再删除下一个节点。</p>
<p>特殊情况：要删除的节点位与链表的尾部——采用顺序遍历，并删除的方法。</p>
<p>​                链表中只有一个节点，删除链表的头节点（也是尾节点）—— 删除节点后需将链表的头设为None</p>
<p>时间复杂度为$O(1)$</p>
<p>以上基于一种假设：要删除的节点的确在链表中，判断节点是否在链表中需要$O(n)$时间复杂度。</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.next = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteNode</span><span class="params">(self, head, node)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type node: ListNode</span></span><br><span class="line"><span class="string">        :rtype: void Do not return anything, modify node in-place instead.</span></span><br><span class="line"><span class="string">        三个循环的顺序很重要，若 node.next == None 先判断，那个删除含有多个节点的链表的头节点时将出错，最后记得返回链表的头节点</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head <span class="keyword">or</span> <span class="keyword">not</span> node:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> node.next != <span class="literal">None</span>:</span><br><span class="line">            next_node = node.next</span><br><span class="line">            node.val = next_node.val</span><br><span class="line">            node.next = next_node.next</span><br><span class="line">        <span class="keyword">elif</span> head == node:</span><br><span class="line">            head = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">else</span>: <span class="comment"># 节点为链表的尾节点</span></span><br><span class="line">            pre_node = head</span><br><span class="line">            <span class="keyword">while</span> pre_node.next != node:</span><br><span class="line">                pre_node = pre_node.next</span><br><span class="line">            pre_node.next = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h5 id="18-2-删除链表中重复的节点"><a href="#18-2-删除链表中重复的节点" class="headerlink" title="18.2 删除链表中重复的节点"></a>18.2 删除链表中重复的节点</h5><p>在一个排序的链表中，存在重复的结点，请删除该链表中重复的结点，重复的结点不保留，返回链表头指针。</p>
<ol>
<li>从头遍历整个链表，删除重复节点。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteDuplication</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        head = ListNode(<span class="number">-1</span>)</span><br><span class="line">        head.next = pHead</span><br><span class="line">        pre_node = head</span><br><span class="line">        <span class="keyword">while</span> pHead <span class="keyword">and</span> pHead.next:</span><br><span class="line">            <span class="keyword">if</span> pHead.val == pHead.next.val:</span><br><span class="line">                val = pHead.val</span><br><span class="line">                <span class="keyword">while</span> pHead <span class="keyword">and</span> pHead.val == val:</span><br><span class="line">                    pHead = pHead.next</span><br><span class="line">                pre_node.next = pHead</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                pre_node = pHead</span><br><span class="line">                pHead = pHead.next</span><br><span class="line">        <span class="keyword">return</span> head.next</span><br></pre></td></tr></table></figure>
<ol>
<li>将链表元素保存在列表中，并删除重复元素后再组成新链表。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">deleteDuplication2</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> pHead != <span class="literal">None</span>:</span><br><span class="line">            res.append(pHead.val)</span><br><span class="line">            pHead = pHead.next</span><br><span class="line">        res=list(filter(<span class="keyword">lambda</span> c:res.count(c)==<span class="number">1</span>,res))</span><br><span class="line">        </span><br><span class="line">        newList=ListNode(<span class="number">0</span>)</span><br><span class="line">        pre=newList</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> res:</span><br><span class="line">            node=ListNode(i)</span><br><span class="line">            pre.next=node</span><br><span class="line">            pre=pre.next</span><br><span class="line">        <span class="keyword">return</span> newList.next</span><br></pre></td></tr></table></figure>
<h5 id="19-正则表达式匹配"><a href="#19-正则表达式匹配" class="headerlink" title="19. 正则表达式匹配"></a>19. 正则表达式匹配</h5><p>匹配包括 “.” 和 “ <em> ”的正则表达式，模式中的字符’.’表示任意一个字符，而’</em>‘表示它前面的字符可以出现任意次（包含0次）。 </p>
<p>当模式中的字符为 “ <em> ”时，存在多种匹配方式 a. 模式上向后移动两个字符，字符串不动（” </em> “前的字符与字符串字符不匹配 / ” <em> “前的字符前的个数可为0个）；b. 字符串向后移动一个字符，模式向后移动两个字符（” </em> “前的字符与字符串字符匹配，向后继续）；  c. 字符串向后移动一个字符，模式不动（” * “前的字符可以匹配任意多个字符）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># s, pattern都是字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">match</span><span class="params">(self, s, pattern)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">return</span> self.matchCore(s, pattern)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">matchCore</span><span class="params">(self, list_s, list_pat)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> list_s  <span class="keyword">and</span> <span class="keyword">not</span> list_pat:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> list_s <span class="keyword">and</span> <span class="keyword">not</span> list_pat:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> len(list_pat) &gt; <span class="number">1</span> <span class="keyword">and</span> list_pat[<span class="number">1</span>]== <span class="string">'*'</span>:</span><br><span class="line">            <span class="keyword">if</span> list_s <span class="keyword">and</span> (list_s[<span class="number">0</span>] == list_pat[<span class="number">0</span>] <span class="keyword">or</span> list_pat[<span class="number">0</span>] == <span class="string">'.'</span>):</span><br><span class="line">                <span class="keyword">return</span> self.matchCore(list_s[<span class="number">1</span>:], list_pat[<span class="number">2</span>:]) <span class="keyword">or</span> self.matchCore(list_s[<span class="number">1</span>:], list_pat) <span class="keyword">or</span> self.matchCore(list_s, list_pat[<span class="number">2</span>:])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> self.matchCore(list_s, list_pat[<span class="number">2</span>:])</span><br><span class="line">        <span class="keyword">if</span> list_s <span class="keyword">and</span> (list_s[<span class="number">0</span>] == list_pat[<span class="number">0</span>] <span class="keyword">or</span> list_pat[<span class="number">0</span>] == <span class="string">'.'</span>):</span><br><span class="line">            <span class="keyword">return</span> self.matchCore(list_s[<span class="number">1</span>:], list_pat[<span class="number">1</span>:])</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>
<h5 id="20-表示数值的字符串"><a href="#20-表示数值的字符串" class="headerlink" title="20. 表示数值的字符串"></a>20. 表示数值的字符串</h5><p>判断字符串是否表示数值（包括整数和小数）。</p>
<p>表示数值的字符串遵循模式 $ A[.[B]][e|EC]$ 或者 $.B[e|EC]$  其中 A 为整数部分，B 为小数部分，C 为指数部分。A 部分不是必需的，但如果A部分不存在，即整数部分不存在，那么小数部分不能为空。A 和 C都可以以 ‘+’ 、‘-’ 或 ‘0~9’ 开头，B 只能以 ‘0~9’ 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># s字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNumeric</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        s = s + <span class="string">'\0'</span></span><br><span class="line">        numeric, index = self.scanInteger(s, <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> s[index] == <span class="string">'.'</span>:</span><br><span class="line">            index += <span class="number">1</span> </span><br><span class="line">            numeric, index = self.scanUnsignedInteger(s, index) <span class="keyword">or</span> numeric</span><br><span class="line">        <span class="keyword">if</span> s[index] == <span class="string">'e'</span> <span class="keyword">or</span> s[index] == <span class="string">'E'</span>:</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">            numeric_, index = self.scanInteger(s, index)</span><br><span class="line">            numeric = numeric <span class="keyword">and</span> numeric_</span><br><span class="line">        <span class="keyword">return</span> numeric <span class="keyword">and</span> s[index] == <span class="string">'\0'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">scanInteger</span><span class="params">(self, s, index)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> s[index] == <span class="string">'+'</span> <span class="keyword">or</span> s[index] == <span class="string">'-'</span>:</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.scanUnsignedInteger(s, index)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">scanUnsignedInteger</span><span class="params">(self, s, index)</span>:</span></span><br><span class="line">        before = index</span><br><span class="line">        number = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>, <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>]</span><br><span class="line">        <span class="keyword">while</span> s[index]!=<span class="string">'\0'</span> <span class="keyword">and</span> s[index] <span class="keyword">in</span> number:</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> index &gt; before, index</span><br></pre></td></tr></table></figure>
<p>其他方法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># s字符串</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isNumeric</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> s <span class="keyword">or</span> len(s)&lt;=<span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        alist=[i.lower() <span class="keyword">for</span> i <span class="keyword">in</span> s]</span><br><span class="line">        <span class="keyword">if</span> <span class="string">'e'</span> <span class="keyword">in</span> alist:</span><br><span class="line">            index=alist.index(<span class="string">'e'</span>)</span><br><span class="line">            front=alist[:index]</span><br><span class="line">            behind=alist[index+<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'.'</span> <span class="keyword">in</span> behind <span class="keyword">or</span> len(behind)==<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            isfront=self.isDigit(front)</span><br><span class="line">            isbehind=self.isDigit(behind)</span><br><span class="line">            <span class="keyword">return</span> isfront <span class="keyword">and</span> isbehind</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.isDigit(alist)</span><br><span class="line">        </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isDigit</span><span class="params">(self,alist)</span>:</span></span><br><span class="line">        dotNum=<span class="number">0</span></span><br><span class="line">        allow_num = [<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>, <span class="string">'4'</span>, <span class="string">'5'</span>,</span><br><span class="line">                     <span class="string">'6'</span>, <span class="string">'7'</span>, <span class="string">'8'</span>, <span class="string">'9'</span>, <span class="string">'+'</span>, <span class="string">'-'</span>, <span class="string">'.'</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(alist)):</span><br><span class="line">            <span class="keyword">if</span> alist[i] <span class="keyword">not</span> <span class="keyword">in</span> allow_num:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> alist[i]==<span class="string">'.'</span>:</span><br><span class="line">                dotNum += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> alist[i] <span class="keyword">in</span> <span class="string">'+-'</span> <span class="keyword">and</span> i!=<span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> dotNum&gt;<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h5 id="21-调整数组顺序使奇数位于偶数前面"><a href="#21-调整数组顺序使奇数位于偶数前面" class="headerlink" title="21.  调整数组顺序使奇数位于偶数前面"></a>21.  调整数组顺序使奇数位于偶数前面</h5><p>输入一个整数数组，调整该数组中数字的顺序，使得所有的奇数位于数组的前半部分，所有的偶数位于数组的后半部分，并保证奇数和奇数，偶数和偶数之间的相对位置不变。 （保持稳定性）</p>
<ol>
<li><p>不考虑时间复杂度：从头扫描数组，遇到偶数时，拿出数字，并将位与这个数字之后的所有数字前移一位，在数组末尾放入此数。时间复杂度 $O(n^{2})$。</p>
</li>
<li><p>利用指针，但无法维持稳定性：扫描整个数组，若发现偶数出现在奇数前面，交换顺序。两个指针 $P_{1}$ （指向数组第一个数字）和 $P_{2}$ （指向数组最后一个数字），当 $P_{2}$ 指向奇数，且 $P_{1}$ 指向奇数时，$P_{1}$ 向后移动，直到 $P_{1}$ 指向偶数，交换两个指针所指的数字；之后 $P_{1}$ 一直向后移动直到碰到下一个偶数，$P_{2}$ 一直向前移动，直到碰到下一个奇数，当 $P_{2}$ 所指的位置在$P_{1}$ 前面时，表示已经将所有的奇数放在偶数前面了。时间复杂度 $O(n)$，空间复杂度 $O(1)$ 。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reOrderArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> array <span class="keyword">or</span> len(array)==<span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> array</span><br><span class="line">        p1 = <span class="number">0</span></span><br><span class="line">        p2 = len(array) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> p1 &lt; p2:</span><br><span class="line">            <span class="keyword">while</span> p1 &lt; p2 <span class="keyword">and</span> array[p1] % <span class="number">2</span>:</span><br><span class="line">                p1 += <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> p1 &lt; p2 <span class="keyword">and</span> <span class="keyword">not</span> array[p2] % <span class="number">2</span>:</span><br><span class="line">                p2 -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> p1 &lt; p2:</span><br><span class="line">                temp = array[p1]</span><br><span class="line">                array[p1] = array[p2]</span><br><span class="line">                array[p2] = temp</span><br><span class="line">        <span class="keyword">return</span> array</span><br></pre></td></tr></table></figure>
</li>
<li><p>不考虑空间复杂度：分配两个数组，一个用来存放奇数，另一个存放偶数，扫描数组，若数字为奇数或偶数放入不同的数组中，最后合并数组。时间复杂度 $O(n)$， 空间复杂度 $O(n)$。 </p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reOrderArray</span><span class="params">(self, array)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> array <span class="keyword">or</span> len(array)==<span class="number">1</span>: </span><br><span class="line">            <span class="keyword">return</span> array</span><br><span class="line">        odd = []</span><br><span class="line">        even = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> array:</span><br><span class="line">            <span class="keyword">if</span> i % <span class="number">2</span>:</span><br><span class="line">                odd.append(i)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                even.append(i)</span><br><span class="line">        <span class="keyword">return</span> odd + even</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="22-链表中倒数第-k-个节点"><a href="#22-链表中倒数第-k-个节点" class="headerlink" title="22. 链表中倒数第 $k$ 个节点"></a>22. 链表中倒数第 $k$ 个节点</h5><p>输入一个链表，输出该链表中倒数第 $k$ 个节点。 从 1 开始计数，即链表的尾节点是倒数第 1 个节点。</p>
<ol>
<li><p>两遍链表遍历法：第一遍遍历链表获取链表的长度 $n$，通过 $n-k+1$ 计算出倒数第 $k$ 个节点的位置，第二次遍历找到倒数第 $k$ 个节点。</p>
</li>
<li><p>一遍链表遍历法（利用两个指针）：两个指针 $P_{1}$ 和 $P_{2}$，开始时 $P_{1}$ 先向前遍历，$P_{1}$ 向前从头节点开始向前走 $k-1$ 步，走到第 $k$ 个节点时， $P_{2}$ 开始向前遍历，两个指针同时向前遍历，等到  $P_{1}$ 走到链表尾部时， $P_{2}$ 所处的位置即为链表中倒数第 $k$ 个节点。  </p>
<p>特殊情况： （1）输入头节点为空；（2）输入参数 $k$ 为 0【链表的尾节点是倒数第 1 个节点】；（3）输入以 $head$ 为头节点的链表的节点总数小于 $k$。</p>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindKthToTail</span><span class="params">(self, head, k)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> head== <span class="literal">None</span> <span class="keyword">or</span> k == <span class="number">0</span>: <span class="comment"># 特殊情况（1）和（2）</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        p1 = head</span><br><span class="line">        p2 = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(k<span class="number">-1</span>):</span><br><span class="line">            <span class="keyword">if</span> p1.next != <span class="literal">None</span>:  <span class="comment"># 特殊情况（3）</span></span><br><span class="line">                p1 = p1.next</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        p2 = head</span><br><span class="line">        <span class="keyword">while</span> p1.next != <span class="literal">None</span>:</span><br><span class="line">            p1 = p1.next</span><br><span class="line">            p2 = p2.next</span><br><span class="line">        <span class="keyword">return</span> p2</span><br></pre></td></tr></table></figure>
<p>相关题目：</p>
<p>求链表的中间节点（若链表中节点的总数为奇数，返回中间节点；若链表中的节点总数为偶数，则返回中间节点中的任意一个）：快慢指针（快指针一次走两步，慢指针一次走一步）。</p>
<h5 id="23-链表中环的入口节点"><a href="#23-链表中环的入口节点" class="headerlink" title="23. 链表中环的入口节点"></a>23. 链表中环的入口节点</h5><p> 给一个链表，若其中包含环，请找出该链表的环的入口结点，否则，输出null。 </p>
<ol>
<li><p>哈希表：遍历链表，若节点不在哈希表中，放入哈希表；若节点在哈希表中，则第一个已经存在于哈希表中的节点即为入环节点。若链表走到空，则链表无环。时间复杂度 $O(n)$， 空间复杂度 $O(n)$。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">EntryNodeOfLoop</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        hashmap = &#123;&#125;</span><br><span class="line">        <span class="keyword">while</span> pHead != <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">if</span> pHead <span class="keyword">in</span> hashmap:</span><br><span class="line">                <span class="keyword">return</span> pHead</span><br><span class="line">            hashmap[pHead] = <span class="number">1</span></span><br><span class="line">            pHead = pHead.next</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>快慢指针：快指针一次走两步，慢指针一次走一步，若快指针走到空，则表明链表无环，若快慢指针相遇，则链表有环；快慢指针相遇后，慢指针保持原地，快指针返回链表头节点，此时快指针变为一次走一步，当两个指针再次相遇时，相遇节点为入环节点。（两指针相遇后，慢指针所处的位置刚好是从头节点开始的第 $n$ 个节点，其中 $n$ 是链表环中的节点个数，此时两个指针同时向前移动，快指针指向环入口时，慢指针已经绕环一圈了。）时间复杂度 $O(n)$，空间复杂度 $o(1)$。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">EntryNodeOfLoop</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead == <span class="literal">None</span> <span class="keyword">or</span> pHead.next == <span class="literal">None</span>: <span class="comment"># 头节点为空，或链表中只有一个节点</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        pFast = pHead</span><br><span class="line">        pSlow = pHead</span><br><span class="line">        <span class="keyword">while</span> pFast != <span class="literal">None</span> <span class="keyword">and</span> pFast.next != <span class="literal">None</span>:</span><br><span class="line">            pFast = pFast.next.next</span><br><span class="line">            pSlow = pSlow.next</span><br><span class="line">            <span class="keyword">if</span> pFast == pSlow:</span><br><span class="line">                pFast = pHead</span><br><span class="line">                <span class="keyword">while</span> pFast != pSlow:</span><br><span class="line">                    pSlow = pSlow.next</span><br><span class="line">                    pFast = pFast.next</span><br><span class="line">                <span class="keyword">return</span> pFast</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
</li>
</ol>
<h5 id="24-反转链表"><a href="#24-反转链表" class="headerlink" title="24. 反转链表"></a>24. 反转链表</h5><p>输入一个链表，反转链表后，输出新链表的表头。 </p>
<p>注意：反转后链表出现断裂（需要事前保存当前节点的前一个节点和后一个节点），并注意头节点的反转，即反转后原头节点为新链表的尾节点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回ListNode</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReverseList</span><span class="params">(self, pHead)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> pHead.next == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> pHead</span><br><span class="line">        pre_node = <span class="literal">None</span></span><br><span class="line">        beh_node = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> pHead != <span class="literal">None</span>:</span><br><span class="line">            beh_node = pHead.next</span><br><span class="line">            pHead.next = pre_node</span><br><span class="line">            pre_node = pHead</span><br><span class="line">            pHead = beh_node</span><br><span class="line">        <span class="keyword">return</span> pre_node</span><br></pre></td></tr></table></figure>
<h5 id="25-合并两个排序的链表"><a href="#25-合并两个排序的链表" class="headerlink" title="25. 合并两个排序的链表"></a>25. 合并两个排序的链表</h5><p>输入两个递增排序的链表，合并两个链表，并使新链表中的节点仍然是递增排序的。</p>
<p>注意：考虑输入的指针为空指针的情况。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回合并后列表</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Merge</span><span class="params">(self, pHead1, pHead2)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pHead1 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> pHead2</span><br><span class="line">        <span class="keyword">if</span> pHead2 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> pHead1</span><br><span class="line">        merge = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">if</span> pHead1.val &lt; pHead2.val:</span><br><span class="line">            merge = pHead1</span><br><span class="line">            merge.next = self.Merge(pHead1.next, pHead2)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            merge = pHead2</span><br><span class="line">            merge.next = self.Merge(pHead1, pHead2.next)</span><br><span class="line">        <span class="keyword">return</span> merge</span><br></pre></td></tr></table></figure>
<h5 id="26-树的子结构"><a href="#26-树的子结构" class="headerlink" title="26. 树的子结构"></a>26. 树的子结构</h5><p>输入两棵二叉树A，B，判断B是不是A的子结构。（PS：约定空树不是任意一个树的子结构） </p>
<p>步骤：</p>
<ol>
<li>在树 A 中找到和树 B 的根节点的值一样的节点 R。</li>
<li>判断树 A 中以 R 为根节点的子树是不是包含和树 B 一样的结构。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">HasSubtree</span><span class="params">(self, pRoot1, pRoot2)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        res = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> pRoot1 <span class="keyword">and</span> pRoot2:</span><br><span class="line">            <span class="keyword">if</span> pRoot1.val == pRoot2.val:</span><br><span class="line">                res = self.SubTreeCore(pRoot1, pRoot2)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> res:</span><br><span class="line">                res = self.HasSubtree(pRoot1.left, pRoot2)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> res:</span><br><span class="line">                res = self.HasSubtree(pRoot1.right, pRoot2)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">SubTreeCore</span><span class="params">(self, pRoot1, pRoot2)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> pRoot2 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> pRoot1 == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> pRoot1.val != pRoot2.val:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> self.SubTreeCore(pRoot1.left, pRoot2.left) <span class="keyword">and</span> self.SubTreeCore(pRoot1.right, pRoot2.right)</span><br></pre></td></tr></table></figure>
<h5 id="27-二叉树的镜像"><a href="#27-二叉树的镜像" class="headerlink" title="27. 二叉树的镜像"></a>27. 二叉树的镜像</h5><p>先前序遍历树的每个节点，若遍历到的节点有子节点，则交换其两个子节点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="comment"># class TreeNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.left = None</span></span><br><span class="line"><span class="comment">#         self.right = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回镜像树的根节点</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Mirror</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">        	<span class="keyword">return</span></span><br><span class="line">        <span class="keyword">if</span> root.left == <span class="literal">None</span> <span class="keyword">and</span> root.right == <span class="literal">None</span>:</span><br><span class="line">        	<span class="keyword">return</span></span><br><span class="line">        temp = root.right</span><br><span class="line">        root.right = root.left</span><br><span class="line">        root.left = temp</span><br><span class="line">        <span class="keyword">if</span> root.left != <span class="literal">None</span>:</span><br><span class="line">        	self.Mirror(root.left)</span><br><span class="line">        <span class="keyword">if</span> root.right != <span class="literal">None</span>:</span><br><span class="line">        	self.Mirror(root.right)</span><br></pre></td></tr></table></figure>
<h5 id="28-对称的二叉树"><a href="#28-对称的二叉树" class="headerlink" title="28. 对称的二叉树"></a>28. 对称的二叉树</h5><p>判断一棵树是不是对称的。若二叉树和镜像完全一样，则是对称的。</p>
<p>针对前序遍历定义一种对称的遍历算法：先遍历父节点，再遍历它的右子节点，最后遍历左子节点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetrical</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">return</span> self.isSymmetricalCore(pRoot, pRoot)</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetricalCore</span><span class="params">(self, pRoot1, pRoot2)</span>:</span></span><br><span class="line">    	<span class="keyword">if</span> pRoot1 == <span class="literal">None</span> <span class="keyword">and</span> pRoot2 == <span class="literal">None</span>:</span><br><span class="line">    		<span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    	<span class="keyword">if</span> pRoot1 == <span class="literal">None</span> <span class="keyword">or</span> pRoot2 == <span class="literal">None</span>:</span><br><span class="line">    		<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    	<span class="keyword">if</span> pRoot1.val != pRoot2.val:</span><br><span class="line">    		<span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    	<span class="keyword">return</span> self.isSymmetricalCore(pRoot1.left, pRoot2.right) <span class="keyword">and</span> self.isSymmetricalCore(pRoot1.right, pRoot2.left)</span><br></pre></td></tr></table></figure>
<h5 id="29-顺时针打印矩阵"><a href="#29-顺时针打印矩阵" class="headerlink" title="29. 顺时针打印矩阵"></a>29. 顺时针打印矩阵</h5><p>按照从外向里以顺时针的顺序依次打印出每一个数字。</p>
<ol>
<li>对于一个 $rows <em> clos$ 的矩阵：循环继续的条件为 $clos &gt; startX </em> 2$ 且 $rows &gt; startY * 2$。</li>
<li>打印步骤：<ol>
<li>第一步：必不可少。</li>
<li>第二步：终止行号 &gt; 起始行号</li>
<li>第三步：终止行号 &gt; 起始行号 且 终止列号 &gt; 起始列号</li>
<li>第四步：终止行号 - 1 &gt; 起始行号 且 终止列号 &gt; 起始列号</li>
</ol>
</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># matrix类型为二维列表，需要返回列表</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printMatrix</span><span class="params">(self, matrix)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> matrix == <span class="literal">None</span> <span class="keyword">or</span> len(matrix) &lt;= <span class="number">0</span> <span class="keyword">or</span> len(matrix[<span class="number">0</span>]) &lt;= <span class="number">0</span>:</span><br><span class="line">        	<span class="keyword">return</span></span><br><span class="line">        start = <span class="number">0</span></span><br><span class="line">        rows = len(matrix)</span><br><span class="line">        cols = len(matrix[<span class="number">0</span>])</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> (cols &gt; start * <span class="number">2</span> <span class="keyword">and</span> rows &gt; start * <span class="number">2</span>):</span><br><span class="line">        	self.printMatrixCore(matrix, rows, cols, start, res)</span><br><span class="line">        	start += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printMatrixCore</span><span class="params">(slef, matrix, rows, cols, start, res)</span>:</span></span><br><span class="line">    	endY = rows - <span class="number">1</span> - start</span><br><span class="line">    	endX = cols - <span class="number">1</span> - start</span><br><span class="line">    	<span class="keyword">for</span> i <span class="keyword">in</span> range(start, endX+<span class="number">1</span>):</span><br><span class="line">    		res.append(matrix[start][i])</span><br><span class="line">    	<span class="keyword">if</span> endY &gt; start:</span><br><span class="line">    		<span class="keyword">for</span> i <span class="keyword">in</span> range(start+<span class="number">1</span>, endY+<span class="number">1</span>):</span><br><span class="line">    			res.append(matrix[i][endX])</span><br><span class="line">    	<span class="keyword">if</span> endY &gt; start <span class="keyword">and</span> endX &gt; start:</span><br><span class="line">    		<span class="keyword">for</span> i <span class="keyword">in</span> range(endX<span class="number">-1</span>, start<span class="number">-1</span>, <span class="number">-1</span>):</span><br><span class="line">    			res.append(matrix[endY][i])</span><br><span class="line">    	<span class="keyword">if</span> endX &gt; start <span class="keyword">and</span> endY<span class="number">-1</span> &gt; start:</span><br><span class="line">    		<span class="keyword">for</span> i <span class="keyword">in</span> range(endY<span class="number">-1</span>, start, <span class="number">-1</span>):</span><br><span class="line">    			res.append(matrix[i][start])</span><br></pre></td></tr></table></figure>
<p>还有另外一种及其简单的做法：旋转矩阵</p>
<h5 id="30-包含min函数的栈"><a href="#30-包含min函数的栈" class="headerlink" title="30. 包含min函数的栈"></a>30. 包含min函数的栈</h5><p>定义栈的数据结构，实现一个能够得到栈中所含最小元素的 min 函数（时间复杂度应为$O(1)$）。</p>
<ol>
<li>若每次压入新元素时，将栈里的所有元素排序，调整让最小的元素位于栈顶。不能保证最后压入栈的元素最先出栈，数据结构不是栈了。X</li>
<li>在栈中添加一个成员变量存放最小元素，当最小元素弹出后，就不知道下一个最小元素在哪儿了。因此，必须将次小元素保存。X</li>
<li>利用辅助数组，每次将最小元素放入辅助栈。√</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.stack = []</span><br><span class="line">        self.minstack = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, node)</span>:</span></span><br><span class="line">        self.stack.append(node)</span><br><span class="line">        <span class="keyword">if</span> self.minstack == [] <span class="keyword">or</span> node &lt; self.min():</span><br><span class="line">            self.minstack.append(node)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            self.minstack.append(self.min())</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> self.stack == [] <span class="keyword">or</span> self.minstack == []:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.stack.pop()</span><br><span class="line">        self.minstack.pop()</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">return</span> self.stack[<span class="number">-1</span>]</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">min</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">return</span> self.minstack[<span class="number">-1</span>]</span><br></pre></td></tr></table></figure>
<h5 id="31-栈的压入，弹出序列"><a href="#31-栈的压入，弹出序列" class="headerlink" title="31. 栈的压入，弹出序列"></a>31. 栈的压入，弹出序列</h5><p>输入两个整数序列，第一个序列表示栈的压入顺序，判断第二个序列是否为该栈的弹出顺序。</p>
<p>解决方式1：</p>
<ol>
<li>若下一个需要弹出的元素刚好是栈顶元素，则直接弹出。</li>
<li>若下一个需要弹出的元素不是栈顶元素，则将压栈序列中还没有压入栈的数字压入辅助栈，直到把下一个需要弹出的数字压入栈顶为止。</li>
<li>若所有数字都压入辅助栈仍没有找到下一个需弹出的数字，则序列不是一个弹出序列。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">IsPopOrder</span><span class="params">(self, pushV, popV)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pushV == <span class="literal">None</span> <span class="keyword">or</span> popV == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        index = <span class="number">0</span></span><br><span class="line">        stack = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> popV:</span><br><span class="line">            <span class="keyword">if</span> stack != [] <span class="keyword">and</span> stack[<span class="number">-1</span>] == i:</span><br><span class="line">                stack.pop()</span><br><span class="line">            <span class="keyword">elif</span> stack == [] <span class="keyword">or</span> stack[<span class="number">-1</span>] != i:</span><br><span class="line">                <span class="keyword">if</span> index &gt; len(pushV) - <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">while</span> index &lt; len(pushV) - <span class="number">1</span> <span class="keyword">and</span> pushV[index] != i:</span><br><span class="line">                        stack.append(pushV[index])</span><br><span class="line">                        index += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> pushV[index] == i:</span><br><span class="line">                        index += <span class="number">1</span></span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<p>解决方法2：</p>
<ol>
<li>将数据从pushV中压入stack的过程中，若压入数据与popV出栈的栈顶元素一样，就从pushv和popv中同时弹出，不压入stack。</li>
<li>等到pushV中元素全弹出来之后，判断stack中出栈元素和popV中出栈元素是否一致，当popV中元素全部弹出，说明是弹出序列。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">IsPopOrder</span><span class="params">(self, pushV, popV)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        stack = []</span><br><span class="line">        <span class="keyword">while</span> popV:</span><br><span class="line">            <span class="keyword">if</span> pushV <span class="keyword">and</span> pushV[<span class="number">0</span>] == popV[<span class="number">0</span>]:</span><br><span class="line">                pushV.pop(<span class="number">0</span>)</span><br><span class="line">                popV.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span> stack <span class="keyword">and</span> stack[<span class="number">-1</span>] == popV[<span class="number">0</span>]:</span><br><span class="line">                stack.pop()</span><br><span class="line">                popV.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">elif</span> pushV:</span><br><span class="line">                stack.append(pushV.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h5 id="32-1-不分行从上到下打印二叉树"><a href="#32-1-不分行从上到下打印二叉树" class="headerlink" title="32.1 不分行从上到下打印二叉树"></a>32.1 不分行从上到下打印二叉树</h5><p>从上往下打印出二叉树的每个节点，同层节点从左至右打印。【广度优先遍历】</p>
<p>每次打印一个节点时，若节点有子节点，则将该节点的子节点放入队列的末尾，下面从队列的头部取出节点，重复前面的操作，直到队列中所有节点都打印完成。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回从上到下每个节点值列表，例：[1,2,3]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">PrintFromTopToBottom</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        res = []</span><br><span class="line">        res_val = []</span><br><span class="line">        res.append(root)</span><br><span class="line">        <span class="keyword">while</span> res:</span><br><span class="line">            root = res.pop(<span class="number">0</span>)</span><br><span class="line">            res_val.append(root.val)</span><br><span class="line">            <span class="keyword">if</span> root.left != <span class="literal">None</span>:</span><br><span class="line">                res.append(root.left)</span><br><span class="line">            <span class="keyword">if</span> root.right != <span class="literal">None</span>:</span><br><span class="line">                res.append(root.right)</span><br><span class="line">        <span class="keyword">return</span> res_val</span><br></pre></td></tr></table></figure>
<font color="red">注意：广度优先遍历有向图或树均需用到队列。</font>

<h5 id="32-2-分行从上到下打印二叉树"><a href="#32-2-分行从上到下打印二叉树" class="headerlink" title="32.2 分行从上到下打印二叉树"></a>32.2 分行从上到下打印二叉树</h5><p>从上到下按层打印二叉树，同一层结点从左至右输出。每一层输出一行。</p>
<p>另需两个变量保存当前层节点和下一层节点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回二维列表[[1,2],[4,5]]</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Print</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pRoot == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        res = []</span><br><span class="line">        res_val = []</span><br><span class="line">        res.append(pRoot)</span><br><span class="line">        <span class="keyword">while</span> res:</span><br><span class="line">            curstack, nextstack = [], []</span><br><span class="line">            <span class="keyword">for</span> re <span class="keyword">in</span> res:</span><br><span class="line">                curstack.append(re.val)</span><br><span class="line">                <span class="keyword">if</span> re.left  != <span class="literal">None</span>:</span><br><span class="line">                    nextstack.append(re.left)</span><br><span class="line">                <span class="keyword">if</span> re.right != <span class="literal">None</span>:</span><br><span class="line">                    nextstack.append(re.right)</span><br><span class="line">            res_val.append(curstack)</span><br><span class="line">            res = nextstack</span><br><span class="line">        <span class="keyword">return</span> res_val</span><br></pre></td></tr></table></figure>
<h5 id="32-3-之字形打印二叉树"><a href="#32-3-之字形打印二叉树" class="headerlink" title="32.3 之字形打印二叉树"></a>32.3 之字形打印二叉树</h5><p>第一行按照从左到右的顺序打印，第二层按照从右至左的顺序打印，第三行按照从左到右的顺序打印，其他行以此类推。</p>
<p>需要两个栈：</p>
<ol>
<li>若当前打印的是奇数层，则先保存左子节点再保存右子节点到第一个栈里。</li>
<li>若当前打印的是偶数层，则先保存右子节点再保存左子节点到第二个栈里。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Print</span><span class="params">(self, pRoot)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pRoot == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        index = <span class="number">0</span></span><br><span class="line">        res = []</span><br><span class="line">        res_val = []</span><br><span class="line">        res.append(pRoot)</span><br><span class="line">        <span class="keyword">while</span> res:</span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">            curstack, nextstack = [], []</span><br><span class="line">            <span class="keyword">if</span> index % <span class="number">2</span> == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">while</span> res:</span><br><span class="line">                    root = res.pop()</span><br><span class="line">                    curstack.append(root.val)</span><br><span class="line">                    <span class="keyword">if</span> root.left != <span class="literal">None</span>:</span><br><span class="line">                        nextstack.append(root.left)</span><br><span class="line">                    <span class="keyword">if</span> root.right != <span class="literal">None</span>:</span><br><span class="line">                        nextstack.append(root.right)</span><br><span class="line">            <span class="keyword">elif</span> index % <span class="number">2</span> == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">while</span> res:</span><br><span class="line">                    root  = res.pop()</span><br><span class="line">                    curstack.append(root.val)</span><br><span class="line">                    <span class="keyword">if</span> root.right != <span class="literal">None</span>:</span><br><span class="line">                        nextstack.append(root.right)</span><br><span class="line">                    <span class="keyword">if</span> root.left != <span class="literal">None</span>:</span><br><span class="line">                        nextstack.append(root.left)</span><br><span class="line">            res_val.append(curstack)</span><br><span class="line">            res = nextstack</span><br><span class="line">        <span class="keyword">return</span> res_val</span><br></pre></td></tr></table></figure>
<h5 id="33-二叉搜索树的后序遍历序列"><a href="#33-二叉搜索树的后序遍历序列" class="headerlink" title="33. 二叉搜索树的后序遍历序列"></a>33. 二叉搜索树的后序遍历序列</h5><p>输入一个整数数组，判断该数组是不是某二叉搜索树的后序遍历的结果。假设输入的数组的任意两个数字都互不相同。【二叉搜索树：左子树节点的值均小于根节点的值，右子树节点的值均大于根节点的值。】</p>
<p>后序遍历，最后一个数字为树的根节点的值，数组中前面数字中小于此值的为左子树节点的值，大于此值的为右子树节点的值。递归。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># -*- coding:utf-8 -*-</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">VerifySquenceOfBST</span><span class="params">(self, sequence)</span>:</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> sequence == []:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        root = sequence.pop()</span><br><span class="line">        index = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> sequence:</span><br><span class="line">            <span class="keyword">if</span> i &gt; root: <span class="keyword">break</span></span><br><span class="line">            index += <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> sequence[index:]:</span><br><span class="line">            <span class="keyword">if</span> i &lt; root:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        left = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> index &gt; <span class="number">0</span>:</span><br><span class="line">            left = self.VerifySquenceOfBST(sequence[:index])</span><br><span class="line">        right = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> index &lt; len(sequence)<span class="number">-1</span>:</span><br><span class="line">            right = self.VerifySquenceOfBST(sequence[index:])</span><br><span class="line">        <span class="keyword">return</span> left <span class="keyword">and</span> right</span><br></pre></td></tr></table></figure>
<h5 id="34-二叉树中和为某一值的路径"><a href="#34-二叉树中和为某一值的路径" class="headerlink" title="34. 二叉树中和为某一值的路径"></a>34. 二叉树中和为某一值的路径</h5><p>输入一颗二叉树的根节点和一个整数，打印出二叉树中节点值的和为输入整数的所有路径。路径定义为从树的根结点开始往下一直到叶结点所经过的结点形成一条路径。</p>
<p>过程：</p>
<ol>
<li>用前序遍历方式访问到某节点，把该节点加入路径，并累加该节点的值；</li>
<li>若该节点为叶子节点，且路径中节点的值刚好 == 输入整数，打印；</li>
<li>若该节点不是叶子节点，则继续访问它的子节点；</li>
<li>当前节点访问结束后，递归回到其父节点。</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回二维列表，内部每个列表表示找到的路径</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.result = []</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindPath</span><span class="params">(self, root, expectNumber)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> root == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        path = []</span><br><span class="line">        cur_sum = <span class="number">0</span></span><br><span class="line">        self.FindPathCore(root, expectNumber, path, cur_sum)</span><br><span class="line">        <span class="keyword">return</span> self.result</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">FindPathCore</span><span class="params">(self, root, expectNumber, path, cur_sum)</span>:</span></span><br><span class="line">        cur_sum += root.val</span><br><span class="line">        path.append(root)</span><br><span class="line">        lead_node = (root.left == <span class="literal">None</span> <span class="keyword">and</span> root.right == <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">if</span> lead_node <span class="keyword">and</span> cur_sum == expectNumber:</span><br><span class="line">            onepath = []</span><br><span class="line">            <span class="keyword">for</span> node <span class="keyword">in</span> path:</span><br><span class="line">                onepath.append(node.val)</span><br><span class="line">            self.result.append(onepath)</span><br><span class="line">        <span class="keyword">if</span> cur_sum &lt; expectNumber:</span><br><span class="line">            <span class="keyword">if</span> root.left:</span><br><span class="line">                self.FindPathCore(root.left, expectNumber, path, cur_sum)</span><br><span class="line">            <span class="keyword">if</span> root.right:</span><br><span class="line">                self.FindPathCore(root.right, expectNumber, path, cur_sum)</span><br><span class="line">        path.pop()</span><br></pre></td></tr></table></figure>
<h5 id="35-复杂链表的复制"><a href="#35-复杂链表的复制" class="headerlink" title="35. 复杂链表的复制"></a>35. 复杂链表的复制</h5><p>输入一个复杂链表（每个节点中有节点值，以及两个指针，一个指向下一个节点，另一个特殊指针指向任意一个节点或空），返回结果为复制后复杂链表的head。（注意，输出结果中请不要返回参数中的节点引用，否则判题程序会直接返回空）</p>
<h5 id="36"><a href="#36" class="headerlink" title="36."></a>36.</h5><h5 id="37"><a href="#37" class="headerlink" title="37."></a>37.</h5><h5 id="38"><a href="#38" class="headerlink" title="38."></a>38.</h5><h5 id="39"><a href="#39" class="headerlink" title="39."></a>39.</h5><h5 id="40"><a href="#40" class="headerlink" title="40."></a>40.</h5><h5 id="41"><a href="#41" class="headerlink" title="41."></a>41.</h5><h5 id="42"><a href="#42" class="headerlink" title="42."></a>42.</h5><h5 id="43"><a href="#43" class="headerlink" title="43."></a>43.</h5><h5 id="44"><a href="#44" class="headerlink" title="44."></a>44.</h5><h5 id="45"><a href="#45" class="headerlink" title="45."></a>45.</h5><h5 id="46"><a href="#46" class="headerlink" title="46."></a>46.</h5><h5 id="47"><a href="#47" class="headerlink" title="47."></a>47.</h5><h5 id="48"><a href="#48" class="headerlink" title="48."></a>48.</h5><h5 id="49"><a href="#49" class="headerlink" title="49."></a>49.</h5><h5 id="50"><a href="#50" class="headerlink" title="50."></a>50.</h5><h5 id="51"><a href="#51" class="headerlink" title="51."></a>51.</h5><h5 id="52"><a href="#52" class="headerlink" title="52."></a>52.</h5><h5 id="53"><a href="#53" class="headerlink" title="53."></a>53.</h5><h5 id="54"><a href="#54" class="headerlink" title="54."></a>54.</h5><h5 id="55"><a href="#55" class="headerlink" title="55."></a>55.</h5><h5 id="56"><a href="#56" class="headerlink" title="56."></a>56.</h5><h5 id="57"><a href="#57" class="headerlink" title="57."></a>57.</h5><h5 id="58"><a href="#58" class="headerlink" title="58."></a>58.</h5><h5 id="59"><a href="#59" class="headerlink" title="59."></a>59.</h5><h5 id="60"><a href="#60" class="headerlink" title="60."></a>60.</h5><h5 id="61"><a href="#61" class="headerlink" title="61."></a>61.</h5><h5 id="62"><a href="#62" class="headerlink" title="62."></a>62.</h5><h5 id="63"><a href="#63" class="headerlink" title="63."></a>63.</h5><h5 id="64"><a href="#64" class="headerlink" title="64."></a>64.</h5><h5 id="65"><a href="#65" class="headerlink" title="65."></a>65.</h5><h5 id="66"><a href="#66" class="headerlink" title="66."></a>66.</h5><h5 id="67"><a href="#67" class="headerlink" title="67."></a>67.</h5><h5 id="68"><a href="#68" class="headerlink" title="68."></a>68.</h5>
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Python—剑指offer算法/" rel="tag"># Python—剑指offer算法</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2019/11/08/Python面试题/" rel="next" title="Python面试题">
                <i class="fa fa-chevron-left"></i> Python面试题
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/11/29/算法面试题/" rel="prev" title="算法面试题">
                算法面试题 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/header.jpg" alt="木木">
            
              <p class="site-author-name" itemprop="name">木木</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-5"><a class="nav-link" href="#3-1-数组中重复的数字"><span class="nav-number">1.</span> <span class="nav-text">3.1  数组中重复的数字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#3-2-不修改数组找出重复的数字"><span class="nav-number">2.</span> <span class="nav-text">3.2 不修改数组找出重复的数字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#4-二维数组中的查找"><span class="nav-number">3.</span> <span class="nav-text">4. 二维数组中的查找</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#5-替换空格"><span class="nav-number">4.</span> <span class="nav-text">5. 替换空格</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#6-从尾到头打印链表"><span class="nav-number">5.</span> <span class="nav-text">6. 从尾到头打印链表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#7-重建二叉树"><span class="nav-number">6.</span> <span class="nav-text">7. 重建二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#8-二叉树的下一个节点"><span class="nav-number">7.</span> <span class="nav-text">8.  二叉树的下一个节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-1-用两个栈实现队列"><span class="nav-number">8.</span> <span class="nav-text">9.1 用两个栈实现队列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#9-2-用两个队列实现一个栈"><span class="nav-number">9.</span> <span class="nav-text">9.2 用两个队列实现一个栈</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-1-斐波那契数列"><span class="nav-number">10.</span> <span class="nav-text">10.1 斐波那契数列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-2-青蛙跳台阶问题"><span class="nav-number">11.</span> <span class="nav-text">10.2 青蛙跳台阶问题</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-3-变态跳台阶"><span class="nav-number">12.</span> <span class="nav-text">10.3 变态跳台阶</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#10-4-矩形覆盖"><span class="nav-number">13.</span> <span class="nav-text">10.4 矩形覆盖</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#11-旋转数组的最小数字"><span class="nav-number">14.</span> <span class="nav-text">11.  旋转数组的最小数字</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#12-矩阵中的路径"><span class="nav-number">15.</span> <span class="nav-text">12. 矩阵中的路径</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#13-机器人的运动范围"><span class="nav-number">16.</span> <span class="nav-text">13. 机器人的运动范围</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#14-剪绳子"><span class="nav-number">17.</span> <span class="nav-text">14. 剪绳子</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#15-二进制中-1-的个数"><span class="nav-number">18.</span> <span class="nav-text">15. 二进制中 1 的个数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#16-数值的整数次方"><span class="nav-number">19.</span> <span class="nav-text">16. 数值的整数次方</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#17-打印从-1-到最大的-n-位数"><span class="nav-number">20.</span> <span class="nav-text">17. 打印从 1 到最大的 n 位数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#18-1-删除链表的节点"><span class="nav-number">21.</span> <span class="nav-text">18.1 删除链表的节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#18-2-删除链表中重复的节点"><span class="nav-number">22.</span> <span class="nav-text">18.2 删除链表中重复的节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#19-正则表达式匹配"><span class="nav-number">23.</span> <span class="nav-text">19. 正则表达式匹配</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#20-表示数值的字符串"><span class="nav-number">24.</span> <span class="nav-text">20. 表示数值的字符串</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#21-调整数组顺序使奇数位于偶数前面"><span class="nav-number">25.</span> <span class="nav-text">21.  调整数组顺序使奇数位于偶数前面</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#22-链表中倒数第-k-个节点"><span class="nav-number">26.</span> <span class="nav-text">22. 链表中倒数第 $k$ 个节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#23-链表中环的入口节点"><span class="nav-number">27.</span> <span class="nav-text">23. 链表中环的入口节点</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#24-反转链表"><span class="nav-number">28.</span> <span class="nav-text">24. 反转链表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#25-合并两个排序的链表"><span class="nav-number">29.</span> <span class="nav-text">25. 合并两个排序的链表</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#26-树的子结构"><span class="nav-number">30.</span> <span class="nav-text">26. 树的子结构</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#27-二叉树的镜像"><span class="nav-number">31.</span> <span class="nav-text">27. 二叉树的镜像</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#28-对称的二叉树"><span class="nav-number">32.</span> <span class="nav-text">28. 对称的二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#29-顺时针打印矩阵"><span class="nav-number">33.</span> <span class="nav-text">29. 顺时针打印矩阵</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#30-包含min函数的栈"><span class="nav-number">34.</span> <span class="nav-text">30. 包含min函数的栈</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#31-栈的压入，弹出序列"><span class="nav-number">35.</span> <span class="nav-text">31. 栈的压入，弹出序列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#32-1-不分行从上到下打印二叉树"><span class="nav-number">36.</span> <span class="nav-text">32.1 不分行从上到下打印二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#32-2-分行从上到下打印二叉树"><span class="nav-number">37.</span> <span class="nav-text">32.2 分行从上到下打印二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#32-3-之字形打印二叉树"><span class="nav-number">38.</span> <span class="nav-text">32.3 之字形打印二叉树</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#33-二叉搜索树的后序遍历序列"><span class="nav-number">39.</span> <span class="nav-text">33. 二叉搜索树的后序遍历序列</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#34-二叉树中和为某一值的路径"><span class="nav-number">40.</span> <span class="nav-text">34. 二叉树中和为某一值的路径</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#35-复杂链表的复制"><span class="nav-number">41.</span> <span class="nav-text">35. 复杂链表的复制</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#36"><span class="nav-number">42.</span> <span class="nav-text">36.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#37"><span class="nav-number">43.</span> <span class="nav-text">37.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#38"><span class="nav-number">44.</span> <span class="nav-text">38.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#39"><span class="nav-number">45.</span> <span class="nav-text">39.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#40"><span class="nav-number">46.</span> <span class="nav-text">40.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#41"><span class="nav-number">47.</span> <span class="nav-text">41.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#42"><span class="nav-number">48.</span> <span class="nav-text">42.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#43"><span class="nav-number">49.</span> <span class="nav-text">43.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#44"><span class="nav-number">50.</span> <span class="nav-text">44.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#45"><span class="nav-number">51.</span> <span class="nav-text">45.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#46"><span class="nav-number">52.</span> <span class="nav-text">46.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#47"><span class="nav-number">53.</span> <span class="nav-text">47.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#48"><span class="nav-number">54.</span> <span class="nav-text">48.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#49"><span class="nav-number">55.</span> <span class="nav-text">49.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#50"><span class="nav-number">56.</span> <span class="nav-text">50.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#51"><span class="nav-number">57.</span> <span class="nav-text">51.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#52"><span class="nav-number">58.</span> <span class="nav-text">52.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#53"><span class="nav-number">59.</span> <span class="nav-text">53.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#54"><span class="nav-number">60.</span> <span class="nav-text">54.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#55"><span class="nav-number">61.</span> <span class="nav-text">55.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#56"><span class="nav-number">62.</span> <span class="nav-text">56.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#57"><span class="nav-number">63.</span> <span class="nav-text">57.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#58"><span class="nav-number">64.</span> <span class="nav-text">58.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#59"><span class="nav-number">65.</span> <span class="nav-text">59.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#60"><span class="nav-number">66.</span> <span class="nav-text">60.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#61"><span class="nav-number">67.</span> <span class="nav-text">61.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#62"><span class="nav-number">68.</span> <span class="nav-text">62.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#63"><span class="nav-number">69.</span> <span class="nav-text">63.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#64"><span class="nav-number">70.</span> <span class="nav-text">64.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#65"><span class="nav-number">71.</span> <span class="nav-text">65.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#66"><span class="nav-number">72.</span> <span class="nav-text">66.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#67"><span class="nav-number">73.</span> <span class="nav-text">67.</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#68"><span class="nav-number">74.</span> <span class="nav-text">68.</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">木木</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Mist</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>




  
  
  
  <link rel="stylesheet" href="/lib/algolia-instant-search/instantsearch.min.css">

  
  
  <script src="/lib/algolia-instant-search/instantsearch.min.js"></script>
  

  <script src="/js/src/algolia-search.js?v=5.1.4"></script>



  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  

  

</body>
</html>
